<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Configure PUBLIC "-//Mort Bay Consulting//DTD Configure//EN"
   "http://jetty.mortbay.org/configure.dtd">
<Configure id="webAppCtx" class="org.mortbay.jetty.webapp.WebAppContext">
   <!-- Third argument to EnvEntry constructor (overrideWebXml) required for Jetty <= 6.1.14 -->
   <!-- EnvEntry scope not implemented until Jetty 6.1.12 -->
   <New class="org.mortbay.jetty.plus.naming.EnvEntry">
      <Arg><Ref id="webAppCtx"/></Arg>
      <Arg>type</Arg>
      <Arg type="java.lang.String">Embedded</Arg>
      <Arg type="boolean">true</Arg>
   </New>
   <New class="org.mortbay.jetty.plus.naming.EnvEntry">
      <Arg>version</Arg>
      <Arg type="java.lang.Integer">6</Arg>
      <Arg type="boolean">true</Arg>
   </New>
   <!-- I can't figure out why org.mortbay.jetty.plus.naming.Resource doesn't work here, but it doesn't -->
   <New class="org.mortbay.jetty.plus.naming.EnvEntry">
      <Arg><Ref id="webAppCtx"/></Arg>
      <Arg>BeanManager</Arg>
      <Arg>
         <New class="javax.naming.Reference">
            <Arg>javax.enterprise.inject.spi.BeanManager</Arg>
            <Arg>org.jboss.weld.resources.ManagerObjectFactory</Arg>
            <Arg/>
         </New>
      </Arg>
      <Arg type="boolean">true</Arg>
   </New>
   <New class="org.mortbay.jetty.plus.naming.EnvEntry">
      <Arg><Ref id="webAppCtx"/></Arg>
      <Arg>jdbc/test</Arg>
      <Arg>
         <New class="org.h2.jdbcx.JdbcDataSource">
            <Set name="URL">jdbc:h2:mem:test</Set>
            <Set name="user">sa</Set>
            <Set name="password">sa</Set>
         </New>  
      </Arg>
      <Arg type="boolean">true</Arg>
   </New>
</Configure>
